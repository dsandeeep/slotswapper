{"ast":null,"code":"var _jsxFileName = \"/Users/daralasandeep/Desktop/slotsswapper/frontend/src/components/Marketplace/Marketplace.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport API from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Marketplace() {\n  _s();\n  const [slots, setSlots] = useState([]);\n  const [mySlots, setMySlots] = useState([]);\n  useEffect(() => {\n    fetchSlots();\n    fetchMySlots();\n  }, []);\n  const fetchSlots = async () => {\n    const {\n      data\n    } = await API.get('/slots/swappable');\n    setSlots(data);\n  };\n  const fetchMySlots = async () => {\n    const {\n      data\n    } = await API.get('/events');\n    setMySlots(data.filter(e => e.status === 'SWAPPABLE'));\n  };\n  const requestSwap = async (theirSlotId, mySlotId) => {\n    try {\n      await API.post('/swaps/request', {\n        mySlotId,\n        theirSlotId\n      });\n      alert('Swap request sent!');\n      fetchSlots();\n      fetchMySlots();\n    } catch (err) {\n      alert('Failed to send swap request');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Marketplace - Available Swappable Slots\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/dashboard\",\n      children: \"Back to Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px'\n      },\n      children: slots.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No swappable slots available at the moment.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this) : slots.map(slot => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #ccc',\n          padding: '15px',\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: slot.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Owner:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 18\n          }, this), \" \", slot.userId.name, \" (\", slot.userId.email, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Time:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 18\n          }, this), \" \", new Date(slot.startTime).toLocaleString(), \" - \", new Date(slot.endTime).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => e.target.value && requestSwap(slot._id, e.target.value),\n          style: {\n            padding: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select your slot to swap\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this), mySlots.map(ms => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: ms._id,\n            children: [ms.title, \" (\", new Date(ms.startTime).toLocaleString(), \")\"]\n          }, ms._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this)]\n      }, slot._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(Marketplace, \"iELTSbc8F6dLVpYNwARypTSDPnE=\");\n_c = Marketplace;\nexport default Marketplace;\nvar _c;\n$RefreshReg$(_c, \"Marketplace\");","map":{"version":3,"names":["React","useState","useEffect","API","jsxDEV","_jsxDEV","Marketplace","_s","slots","setSlots","mySlots","setMySlots","fetchSlots","fetchMySlots","data","get","filter","e","status","requestSwap","theirSlotId","mySlotId","post","alert","err","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","href","marginTop","length","map","slot","border","marginBottom","title","userId","name","email","Date","startTime","toLocaleString","endTime","onChange","target","value","_id","ms","_c","$RefreshReg$"],"sources":["/Users/daralasandeep/Desktop/slotsswapper/frontend/src/components/Marketplace/Marketplace.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport API from '../../services/api';\n\nfunction Marketplace() {\n  const [slots, setSlots] = useState([]);\n  const [mySlots, setMySlots] = useState([]);\n\n  useEffect(() => {\n    fetchSlots();\n    fetchMySlots();\n  }, []);\n\n  const fetchSlots = async () => {\n    const { data } = await API.get('/slots/swappable');\n    setSlots(data);\n  };\n\n  const fetchMySlots = async () => {\n    const { data } = await API.get('/events');\n    setMySlots(data.filter(e => e.status === 'SWAPPABLE'));\n  };\n\n  const requestSwap = async (theirSlotId, mySlotId) => {\n    try {\n      await API.post('/swaps/request', { mySlotId, theirSlotId });\n      alert('Swap request sent!');\n      fetchSlots();\n      fetchMySlots();\n    } catch (err) {\n      alert('Failed to send swap request');\n    }\n  };\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <h2>Marketplace - Available Swappable Slots</h2>\n      <a href=\"/dashboard\">Back to Dashboard</a>\n      \n      <div style={{ marginTop: '20px' }}>\n        {slots.length === 0 ? (\n          <p>No swappable slots available at the moment.</p>\n        ) : (\n          slots.map(slot => (\n            <div key={slot._id} style={{ border: '1px solid #ccc', padding: '15px', marginBottom: '15px' }}>\n              <h3>{slot.title}</h3>\n              <p><strong>Owner:</strong> {slot.userId.name} ({slot.userId.email})</p>\n              <p><strong>Time:</strong> {new Date(slot.startTime).toLocaleString()} - {new Date(slot.endTime).toLocaleString()}</p>\n              \n              <select \n                onChange={(e) => e.target.value && requestSwap(slot._id, e.target.value)}\n                style={{ padding: '8px' }}\n              >\n                <option value=\"\">Select your slot to swap</option>\n                {mySlots.map(ms => (\n                  <option key={ms._id} value={ms._id}>\n                    {ms.title} ({new Date(ms.startTime).toLocaleString()})\n                  </option>\n                ))}\n              </select>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Marketplace;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}